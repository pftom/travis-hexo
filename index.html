<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
    
<!-- Google Analytics -->
<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-35141228-2', 'auto');
ga('send', 'pageview');
</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<!-- End Google Analytics -->


    

    



    <meta charset="utf-8">
    
    
    
    <title>kazaff&#39;s blog | 要相信，一切都是最好的安排~</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="undefined">
    <meta name="description" content="develop,code,full-stack,architecture,deploy,database,test">
<meta property="og:type" content="website">
<meta property="og:title" content="kazaff&#39;s blog">
<meta property="og:url" content="https://blog.kazaff.me/index.html">
<meta property="og:site_name" content="kazaff&#39;s blog">
<meta property="og:description" content="develop,code,full-stack,architecture,deploy,database,test">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="kazaff&#39;s blog">
<meta name="twitter:description" content="develop,code,full-stack,architecture,deploy,database,test">
    
        <link rel="alternative" href="/atom.xml" title="kazaff&#39;s blog" type="application/atom+xml">
    
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" href="/css/style.css?v=1.4.14">
    <script>window.lazyScripts=[]</script>
</head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu"  >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">kazaff</h5>
          <a href="mailto:edisondik@gmail.com" title="edisondik@gmail.com" class="mail">edisondik@gmail.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect active">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                Index
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                Archives
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                Tags
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories"  >
                <i class="icon icon-lg icon-th-list"></i>
                Categories
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/kazaff" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="http://www.weibo.com/kazaff" target="_blank" >
                <i class="icon icon-lg icon-weibo"></i>
                Weibo
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">kazaff&#39;s blog</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="输入感兴趣的关键字">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header index-header">

    <div class="container fade-scale">
        <h1 class="title">kazaff&#39;s blog</h1>
        <h5 class="subtitle">
            
                要相信，一切都是最好的安排~
            
        </h5>
    </div>

    

</header>

<div class="container body-wrap">

    <ul class="post-list">
    
        <li class="post-list-item fade">
            <article id="post-关于积分的db设计之二"
  class="article-card article-type-post" itemprop="blogPost">

    <div class="post-meta">
        <time class="post-time" title="2020年04月23日 10:37" datetime="2020-04-23T10:37:12.000Z"  itemprop="datePublished">Apr 23 2020</time>

        
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/数据库/">数据库</a></li></ul>



        

    </div>

    


  
    <h3 class="post-title" itemprop="name">
      <a class="post-title-link" href="/2020/04/23/关于积分的db设计之二/">关于积分的Db设计之二</a>
    </h3>
  




    <div class="post-content" id="post-content" itemprop="postContent">

    
        继续积分这个话题，我们接着之前的那篇文章往下说。上一篇给了一个db的设计方案，也简单讨论了一下它的精妙与不足。那么，是否还可以有更好一些的db设计呢？
别着急，我们还是先来说业务。其实除了上一篇文章提到的那些规则外，我们的电商系统里，还有另外一个额外的小规则，由于比较另类，所以我放在这里才说，因为它也会对上面的那个db设计造成一定的问题。
我们的电商系统，在客户结算时并不提供一个输入框来给客...
    

        <a href="/2020/04/23/关于积分的db设计之二/" class="post-more waves-effect waves-button">
            阅读全文...
        </a>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/有效期/">有效期</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/积分设计/">积分设计</a></li></ul>

    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-关于积分的db设计之一"
  class="article-card article-type-post" itemprop="blogPost">

    <div class="post-meta">
        <time class="post-time" title="2020年04月23日 9:37" datetime="2020-04-23T09:37:12.000Z"  itemprop="datePublished">Apr 23 2020</time>

        
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/数据库/">数据库</a></li></ul>



        

    </div>

    


  
    <h3 class="post-title" itemprop="name">
      <a class="post-title-link" href="/2020/04/23/关于积分的db设计之一/">关于积分的Db设计之一</a>
    </h3>
  




    <div class="post-content" id="post-content" itemprop="postContent">

    
        今天来讲一个业务场景及其对应的解决方案：用户积分！肯定不陌生，毕竟现在很多电商系统都提供积分功能。简单说一下我手里的电商项目中积分的相关规则：

下单会根据订单金额，奖励对应比例的积分
订单结算时，用户可以使用积分来按照比例抵扣现金消费
积分存在有效期，过期作废
用户可以查看自身的积分流水
用户可以查看当前可用积分总数

极其常规的业务逻辑，对吧~~这里延伸几点规则，算是基于上述规则的合理推...
    

        <a href="/2020/04/23/关于积分的db设计之一/" class="post-more waves-effect waves-button">
            阅读全文...
        </a>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/有效期/">有效期</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/积分设计/">积分设计</a></li></ul>

    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-go get 如何指定库的版本"
  class="article-card article-type-post" itemprop="blogPost">

    <div class="post-meta">
        <time class="post-time" title="2019年12月09日 9:37" datetime="2019-12-09T09:37:12.000Z"  itemprop="datePublished">Dec 9 2019</time>

        
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/golang/">golang</a></li></ul>



        

    </div>

    


  
    <h3 class="post-title" itemprop="name">
      <a class="post-title-link" href="/2019/12/09/go get 如何指定库的版本/">Go Get 如何指定库的版本</a>
    </h3>
  




    <div class="post-content" id="post-content" itemprop="postContent">

    
        最近修改了一个很早前写的程序，然后在一台新的服务器上进行发布。本以为仅仅改了个参数，直接编译就搞定的事儿，没想到尴尬了！一开始的报错，着实让人懵逼。后来翻看源码，才发现是依赖的第三方库有了不向下兼容的新版本~
然后继续天真的以为go get可以指定版本，可再次被打脸，才不可置信的发现原来老一点版本的golang，对包版本的管理真的很渣。查了一下资料，golang的包管理相关的解决方案也五花八...
    

        <a href="/2019/12/09/go get 如何指定库的版本/" class="post-more waves-effect waves-button">
            阅读全文...
        </a>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/go-get/">go get</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/版本/">版本</a></li></ul>

    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-审批流程中的一个有趣的需求点"
  class="article-card article-type-post" itemprop="blogPost">

    <div class="post-meta">
        <time class="post-time" title="2019年12月09日 9:37" datetime="2019-12-09T09:37:12.000Z"  itemprop="datePublished">Dec 9 2019</time>

        
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/需求分析/">需求分析</a></li></ul>



        

    </div>

    


  
    <h3 class="post-title" itemprop="name">
      <a class="post-title-link" href="/2019/12/09/审批流程中的一个有趣的需求点/">审批流程中的一个有趣的需求点</a>
    </h3>
  




    <div class="post-content" id="post-content" itemprop="postContent">

    
        这篇文章，我们来讨论一个比较有趣的需求，可能曾经出现在你设计的系统中，又或者你见过类似的解决方案。不管怎样，我们抱着思考讨论的心态，一起来聊一下吧~
先来简单的描述一下目标功能的大概内容：我们的系统提供一个模块，该模块有3种用户类型：一线销售人员，销售经理，市场总监。该模块最基本的一个流程是：销售人员提前填写未来周的工作计划（7天），提交后先由自己部门经理审批，通过后再由市场总监审批，最终流...
    

        <a href="/2019/12/09/审批流程中的一个有趣的需求点/" class="post-more waves-effect waves-button">
            阅读全文...
        </a>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/审批流程/">审批流程</a></li></ul>

    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-它是如何知道请求来自于puppeteer的"
  class="article-card article-type-post" itemprop="blogPost">

    <div class="post-meta">
        <time class="post-time" title="2019年10月28日 9:37" datetime="2019-10-28T09:37:12.000Z"  itemprop="datePublished">Oct 28 2019</time>

        
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/nodejs/">nodejs</a></li></ul>



        

    </div>

    


  
    <h3 class="post-title" itemprop="name">
      <a class="post-title-link" href="/2019/10/28/它是如何知道请求来自于puppeteer的/">它是如何知道请求来自于Puppeteer的</a>
    </h3>
  




    <div class="post-content" id="post-content" itemprop="postContent">

    
        一直以来，在采集的道路上，都是puppeteer与我相伴，感觉无往不利，无坚不摧。但内心是知道总有一天，随着越来越规范，你使用puppeteer的目的会被限缩到固定范围的，毕竟它存在的意义是端到端测试。而我们拿来作为采集数据的工具来用，总不算是正路~哇哈
闲话不多说，我们快入主题，我最近发现之前一直work的采集程序最近突然失败了，然后经过一番排查，发现目标网站识别出请求是来自于非人类的，而...
    

        <a href="/2019/10/28/它是如何知道请求来自于puppeteer的/" class="post-more waves-effect waves-button">
            阅读全文...
        </a>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/puppeteer/">puppeteer</a></li></ul>

    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-基于AES和RSA来保护数据"
  class="article-card article-type-post" itemprop="blogPost">

    <div class="post-meta">
        <time class="post-time" title="2019年08月23日 9:37" datetime="2019-08-23T09:37:12.000Z"  itemprop="datePublished">Aug 23 2019</time>

        
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/java/">java</a></li></ul>



        

    </div>

    


  
    <h3 class="post-title" itemprop="name">
      <a class="post-title-link" href="/2019/08/23/基于AES和RSA来保护数据/">基于AES和RSA来保护数据</a>
    </h3>
  




    <div class="post-content" id="post-content" itemprop="postContent">

    
        今天来说一下加解密相关的内容~
在这个后Rest时代，基本上HTTP API已经满大街了，如果你还不了解这个细节，或者你的项目不提供Rest API，你都不好意思来看我这篇文章~~而通常我们简单的这些API，都不约儿童的包含了一个签名字段，主要目的是为了避免通信数据被恶意篡改，这也是https生而伟大的原因。
我们来进一步说一下这个签名逻辑：一般通信双方会提前约定好使用相同的一段字符串来作为...
    

        <a href="/2019/08/23/基于AES和RSA来保护数据/" class="post-more waves-effect waves-button">
            阅读全文...
        </a>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/对称加密/">对称加密</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/非对称加密/">非对称加密</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/非对称签名/">非对称签名</a></li></ul>

    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-谈puppeteer碰到的bug"
  class="article-card article-type-post" itemprop="blogPost">

    <div class="post-meta">
        <time class="post-time" title="2019年08月22日 9:37" datetime="2019-08-22T09:37:12.000Z"  itemprop="datePublished">Aug 22 2019</time>

        
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/nodejs/">nodejs</a></li></ul>



        

    </div>

    


  
    <h3 class="post-title" itemprop="name">
      <a class="post-title-link" href="/2019/08/22/谈puppeteer碰到的bug/">谈Puppeteer碰到的bug</a>
    </h3>
  




    <div class="post-content" id="post-content" itemprop="postContent">

    
        什么是puppeteer？直观点说，就是一个提供以编程的方式控制浏览器（chromium）的nodejs库，非常的彪悍。有了它，你可以用来做端到端测试，也可用来采集一些比较复杂的网站。我之前文章有涉及到这个神器，所以就不再啰嗦了~
这篇文章只是记录在使用中几个碰到的坑~
page.click 无限阻塞从官网手册上看，click函数在发现页面上没有对应的元素的时候，会报错。但我在实际使用的时候...
    

        <a href="/2019/08/22/谈puppeteer碰到的bug/" class="post-more waves-effect waves-button">
            阅读全文...
        </a>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/puppeteer/">puppeteer</a></li></ul>

    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-不安全证书提示下的请求是否依然基于tls"
  class="article-card article-type-post" itemprop="blogPost">

    <div class="post-meta">
        <time class="post-time" title="2019年07月23日 9:37" datetime="2019-07-23T09:37:12.000Z"  itemprop="datePublished">Jul 23 2019</time>

        
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/运维/">运维</a></li></ul>



        

    </div>

    


  
    <h3 class="post-title" itemprop="name">
      <a class="post-title-link" href="/2019/07/23/不安全证书提示下的请求是否依然基于tls/">不安全证书提示下的请求是否依然基于Tls</a>
    </h3>
  




    <div class="post-content" id="post-content" itemprop="postContent">

    
        好久没有更新Blog了，惭愧惭愧~
今天咱们来聊一个之前总是忽略的问题：

                
                    
                    
                
                
            
我记得是好几年前，当时https风初见势头，很多大一些的互联网平台都https化的时候，我也跟风的研究并搭...
    

        <a href="/2019/07/23/不安全证书提示下的请求是否依然基于tls/" class="post-more waves-effect waves-button">
            阅读全文...
        </a>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/HTTPS/">HTTPS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/TLS/">TLS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/证书/">证书</a></li></ul>

    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-从华为事件谈自己造轮子的必要性"
  class="article-card article-type-post" itemprop="blogPost">

    <div class="post-meta">
        <time class="post-time" title="2019年05月21日 9:37" datetime="2019-05-21T09:37:12.000Z"  itemprop="datePublished">May 21 2019</time>

        
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/talk/">talk</a></li></ul>



        

    </div>

    


  
    <h3 class="post-title" itemprop="name">
      <a class="post-title-link" href="/2019/05/21/从华为事件谈自己造轮子的必要性/">从华为事件谈自己造轮子的必要性</a>
    </h3>
  




    <div class="post-content" id="post-content" itemprop="postContent">

    
        贸易战到现在，愈演愈烈，自从川普老头发布华为禁令后，先后很多美国本土企业都中断了和华为的合作关系，尤其是google。安卓系统对于华为的海外手机业务来说无疑是非常重要的，而华为内部发布出来的信息中有一句话让我这种程序员很有感觉：

所有“备胎”一夜之间全部转正！

以前看过很多资料，总会不经意看到关于“重造轮子”的梗，多数都是用来表达“闭门造车”的愚蠢行为。相对比较正面的一句话应该是来自图灵...
    

        <a href="/2019/05/21/从华为事件谈自己造轮子的必要性/" class="post-more waves-effect waves-button">
            阅读全文...
        </a>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/需求分析/">需求分析</a></li></ul>

    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-激活apple id的two-factor认证"
  class="article-card article-type-post" itemprop="blogPost">

    <div class="post-meta">
        <time class="post-time" title="2019年05月10日 9:37" datetime="2019-05-10T09:37:12.000Z"  itemprop="datePublished">May 10 2019</time>

        
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/移动端/">移动端</a></li></ul>



        

    </div>

    


  
    <h3 class="post-title" itemprop="name">
      <a class="post-title-link" href="/2019/05/10/激活apple id的two-factor认证/">激活Apple ID的two-Factor认证</a>
    </h3>
  




    <div class="post-content" id="post-content" itemprop="postContent">

    
        事情是这样的，我司的一个ERP有一个ios app，因为当时没有通过Apple的个人开发审核，所以按照Apple的推荐选择使用企业账号类型来开发。企业app的证书有效期是1年，也就是说每年都要去更新证书。
问题来了，当我这几天登录我们的企业开发者账号时，被拦截了，提醒我该账号没有开启双重认证。。。这也太霸道了啊~这个开发者账号是属于公司的，不可能绑定在私人的手机上，怎么设置这个双重认证呢？
...
    

        <a href="/2019/05/10/激活apple id的two-factor认证/" class="post-more waves-effect waves-button">
            阅读全文...
        </a>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/需求分析/">需求分析</a></li></ul>

    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-事无巨细vs点到为止"
  class="article-card article-type-post" itemprop="blogPost">

    <div class="post-meta">
        <time class="post-time" title="2019年04月29日 9:37" datetime="2019-04-29T09:37:12.000Z"  itemprop="datePublished">Apr 29 2019</time>

        
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/talk/">talk</a></li></ul>



        

    </div>

    


  
    <h3 class="post-title" itemprop="name">
      <a class="post-title-link" href="/2019/04/29/事无巨细vs点到为止/">事无巨细Vs点到为止</a>
    </h3>
  




    <div class="post-content" id="post-content" itemprop="postContent">

    
        最近在思考一个问题，在项目需求分析阶段，到底是应该“事无巨细” 还是 “点到为止” 呢？
这个问题源自我最近参与公司其它项目的经历，作为一个“外来者”，按照他们组的规则按部就班的推进需求分析的进度。我发现的第一个与众不同是他们组开会特别频繁，而我们组正式会议几个月都很难一次，当然我们组存在频繁的小会议（问题参与者们自发组织的临时会谈）。
其实，会议频繁不算是问题，但每个会议必须有效率。我参与...
    

        <a href="/2019/04/29/事无巨细vs点到为止/" class="post-more waves-effect waves-button">
            阅读全文...
        </a>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/需求分析/">需求分析</a></li></ul>

    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-你想真正掌握你的个人数据吗"
  class="article-card article-type-post" itemprop="blogPost">

    <div class="post-meta">
        <time class="post-time" title="2019年03月20日 9:37" datetime="2019-03-20T09:37:12.000Z"  itemprop="datePublished">Mar 20 2019</time>

        
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/talk/">talk</a></li></ul>



        

    </div>

    


  
    <h3 class="post-title" itemprop="name">
      <a class="post-title-link" href="/2019/03/20/你想真正掌握你的个人数据吗/">你想真正掌握你的个人数据吗</a>
    </h3>
  




    <div class="post-content" id="post-content" itemprop="postContent">

    
        时代在召唤，我们所生活在的星球，每隔一段时间都会自我颠覆一次，就像细胞的迭代一样。在前段时间各种新闻大事件（fb的泄露门，欧盟的隐私法案）的炒作下，越来越多的互联网问题暴露出来。不过，这个领域从来不缺少革命者，一些大师总是会在关键时刻站出来发表一个颠覆性的思想，引领世人。
之前，在了解区块链的时候，无意间有看到一个项目IPFS，去中心化的web应用多么有魅力啊。不过今天看到一个更热血沸腾的项...
    

        <a href="/2019/03/20/你想真正掌握你的个人数据吗/" class="post-more waves-effect waves-button">
            阅读全文...
        </a>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/solid/">solid</a></li></ul>

    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-https证书申请"
  class="article-card article-type-post" itemprop="blogPost">

    <div class="post-meta">
        <time class="post-time" title="2019年03月19日 9:37" datetime="2019-03-19T09:37:12.000Z"  itemprop="datePublished">Mar 19 2019</time>

        
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/运维/">运维</a></li></ul>



        

    </div>

    


  
    <h3 class="post-title" itemprop="name">
      <a class="post-title-link" href="/2019/03/19/https证书申请/">Https证书申请</a>
    </h3>
  




    <div class="post-content" id="post-content" itemprop="postContent">

    
        时间飞逝，现在https已经是web项目必选项了。早在很久之前，就有过一篇文章提https，里面提供的证书申请方案已经过时。
其实，一直以来都有机构或组织提供openssl证书服务，最接地气的就应该是Let’s Encrypt。去年年初，我们公司搭建环境的时候，就是用的是它提供的ACME.sh，可以看到它还是比较远古的，很多步骤，而且我们公司后来出现过它证书没有自动创建的问题~~
在一个夜黑...
    

        <a href="/2019/03/19/https证书申请/" class="post-more waves-effect waves-button">
            阅读全文...
        </a>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ACME/">ACME</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/certbot/">certbot</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/https/">https</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/openssl/">openssl</a></li></ul>

    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-关于mysql的insert for update在多条插入记录下的使用"
  class="article-card article-type-post" itemprop="blogPost">

    <div class="post-meta">
        <time class="post-time" title="2019年03月18日 9:37" datetime="2019-03-18T09:37:12.000Z"  itemprop="datePublished">Mar 18 2019</time>

        
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/数据库/">数据库</a></li></ul>



        

    </div>

    


  
    <h3 class="post-title" itemprop="name">
      <a class="post-title-link" href="/2019/03/18/关于mysql的insert for update在多条插入记录下的使用/">关于Mysql的insert for Update在多条插入记录下的使用</a>
    </h3>
  




    <div class="post-content" id="post-content" itemprop="postContent">

    
        今天我们来讨论一个比较大众的问题：关于当在mysql中insert记录时违反了表的唯一键后要怎么办？其实一般而言，越来越多的系统在数据一致性和有效性问题上，都放在应用逻辑层来维护合法性。到底哪种方式好，在这篇文章中不做评论，我个人觉得尽量都在代码中体现才是王道。
回到问题，一般遇到这种情况，第一反应是使用insert for update语法，例如：
12INSERT INTO t1 (a,...
    

        <a href="/2019/03/18/关于mysql的insert for update在多条插入记录下的使用/" class="post-more waves-effect waves-button">
            阅读全文...
        </a>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/insert-for-update/">insert for update</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/mysql/">mysql</a></li></ul>

    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-关于电商项目的需求难点"
  class="article-card article-type-post" itemprop="blogPost">

    <div class="post-meta">
        <time class="post-time" title="2019年03月07日 9:37" datetime="2019-03-07T09:37:12.000Z"  itemprop="datePublished">Mar 7 2019</time>

        
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/需求分析/">需求分析</a></li></ul>



        

    </div>

    


  
    <h3 class="post-title" itemprop="name">
      <a class="post-title-link" href="/2019/03/07/关于电商项目的需求难点/">关于电商项目的需求难点</a>
    </h3>
  




    <div class="post-content" id="post-content" itemprop="postContent">

    
        现在国内的电商产品真的是多如牛毛，功能其实都大同小异，质量参差不齐。有的当软件产品卖，有的依托在完整的SaaS平台中卖服务，百家齐放。
我司本身有运营着一个B2C的电商系统，基于国外一个开源电商项目二次开发而来，修修改改也使用了将近三年了，今年公司打算对其进行重构（基本上是推倒重来），并进一步将其产品化。之所以有这种想法，也是因为我们调研了一圈市面上的产品后，觉得这个市场还是有机会的。
我之...
    

        <a href="/2019/03/07/关于电商项目的需求难点/" class="post-more waves-effect waves-button">
            阅读全文...
        </a>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/电商/">电商</a></li></ul>

    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-yum remove害死人"
  class="article-card article-type-post" itemprop="blogPost">

    <div class="post-meta">
        <time class="post-time" title="2018年12月20日 9:37" datetime="2018-12-20T09:37:12.000Z"  itemprop="datePublished">Dec 20 2018</time>

        
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/运维/">运维</a></li></ul>



        

    </div>

    


  
    <h3 class="post-title" itemprop="name">
      <a class="post-title-link" href="/2018/12/20/yum remove害死人/">Yum Remove害死人</a>
    </h3>
  




    <div class="post-content" id="post-content" itemprop="postContent">

    
        前几天犯了个天大的错，简单的说就是我把公司线上服务器的nginx卸载了。。。然后整整花了将近7个小时才让公司的系统重新上线！我想如果在BAT，我肯定要滚蛋了~~
事情的缘由比较啰嗦就不细说了，主要说一下我是如何干掉nginx的吧，哈哈哈：
1yum remove GeoIP -y
我本来是打算删除这个库的，执行完命令后它竟然把依赖它的其它软件也给删除了。。。。当然，重新安装nginx分分钟的...
    

        <a href="/2018/12/20/yum remove害死人/" class="post-more waves-effect waves-button">
            阅读全文...
        </a>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/centos/">centos</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/rpm/">rpm</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/yum/">yum</a></li></ul>

    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-你php的session_start慢么"
  class="article-card article-type-post" itemprop="blogPost">

    <div class="post-meta">
        <time class="post-time" title="2018年12月18日 9:37" datetime="2018-12-18T09:37:12.000Z"  itemprop="datePublished">Dec 18 2018</time>

        
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/php/">php</a></li></ul>



        

    </div>

    


  
    <h3 class="post-title" itemprop="name">
      <a class="post-title-link" href="/2018/12/18/你php的session_start慢么/">你Php的session_start慢么</a>
    </h3>
  




    <div class="post-content" id="post-content" itemprop="postContent">

    
        事情发生在一个晴朗的早上，客户投诉说公司运营的一个web电商系统出现偶发的504问题。“偶发”这种事儿，真心不好排查啊。我们检查了一遍所有的相关配置，包括nginx，php，php-fpm，mysql等等等等，调整了一些参数后情况并没有变好~~不仅如此，还有相当多的其它因素干扰着问题的排查，这其中就包含今天的这个主题。
实在没辙了，只能开启所有的log来追查了。
经过对日志的分析，发现“偶发...
    

        <a href="/2018/12/18/你php的session_start慢么/" class="post-more waves-effect waves-button">
            阅读全文...
        </a>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/session/">session</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/文件锁/">文件锁</a></li></ul>

    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-迟来的成人礼"
  class="article-card article-type-post" itemprop="blogPost">

    <div class="post-meta">
        <time class="post-time" title="2018年11月29日 9:37" datetime="2018-11-29T09:37:12.000Z"  itemprop="datePublished">Nov 29 2018</time>

        
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/talk/">talk</a></li></ul>



        

    </div>

    


  
    <h3 class="post-title" itemprop="name">
      <a class="post-title-link" href="/2018/11/29/迟来的成人礼/">迟来的成人礼</a>
    </h3>
  




    <div class="post-content" id="post-content" itemprop="postContent">

    
        刚刚过去的两周，对我来讲，如时间旅行一样，众多的“人生第一次”像赶集一样接踵而来。庆幸的是我及我的家人犹如神助，正如几个月前我从朋友口中得到的那句启示“一切都是最好的安排”！
此刻花时间来整理自己的思绪，那些镜头还会在眼前复现，上次如此深刻的画面还是在姥姥去世的时候。不同的是这次是多了一个新的生命，一个我和我爱的人的生命的延续。
一直以来我都没有感觉生活马上就要有所变化，直到我在产房外听到声...
    

        <a href="/2018/11/29/迟来的成人礼/" class="post-more waves-effect waves-button">
            阅读全文...
        </a>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/成长之重量/">成长之重量</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/新生命/">新生命</a></li></ul>

    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-单台服务器同时跑多套php"
  class="article-card article-type-post" itemprop="blogPost">

    <div class="post-meta">
        <time class="post-time" title="2018年10月21日 9:37" datetime="2018-10-21T09:37:12.000Z"  itemprop="datePublished">Oct 21 2018</time>

        
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/运维/">运维</a></li></ul>



        

    </div>

    


  
    <h3 class="post-title" itemprop="name">
      <a class="post-title-link" href="/2018/10/21/单台服务器同时跑多套php/">单台服务器同时跑多套Php</a>
    </h3>
  




    <div class="post-content" id="post-content" itemprop="postContent">

    
        一套web系统，后台往往比前台功能要复杂丰满许多，但后台的访问权限往往更容易控制，毕竟前台是给宇宙中所有的生物在使用的。为了安全起见，我们公司的一套web电商系统开始尝试做前后台功能隔离，根据整理出来的报告，后台功能需要大量的风险高的php内置函数。前台基本上db的存存取取，没有什么图片管理，报表导出，文件打包等等功能，所以我们需要让它们分别跑在不同的php安全配置下。
服务器是一台AWS ...
    

        <a href="/2018/10/21/单台服务器同时跑多套php/" class="post-more waves-effect waves-button">
            阅读全文...
        </a>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/linux/">linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/nginx/">nginx</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/php-fpm/">php-fpm</a></li></ul>

    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-php5.x禁用eval"
  class="article-card article-type-post" itemprop="blogPost">

    <div class="post-meta">
        <time class="post-time" title="2018年10月19日 9:37" datetime="2018-10-19T09:37:12.000Z"  itemprop="datePublished">Oct 19 2018</time>

        
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/运维/">运维</a></li></ul>



        

    </div>

    


  
    <h3 class="post-title" itemprop="name">
      <a class="post-title-link" href="/2018/10/19/php5.x禁用eval/">php5.x禁用eval</a>
    </h3>
  




    <div class="post-content" id="post-content" itemprop="postContent">

    
        如果是我的死忠粉，你应该看得出来，这几天我在修补公司服务器的安全漏洞。我并不是专家，干的也都只是苦力活，但也要记录一下，人老了，总忘。
这次我们来说如何禁止php代码中执行eval函数，本来以为直接修改php.ini中的disable_function即可~但现实往往并不是那么如意，查了一下GG，发现原来eval并非函数，而是php底层提供的一种特性。
幸好有前辈提供了php扩展来禁用万恶的...
    

        <a href="/2018/10/19/php5.x禁用eval/" class="post-more waves-effect waves-button">
            阅读全文...
        </a>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/eval/">eval</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/linux/">linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/php/">php</a></li></ul>

    </div>
    
</article>

        </li>
    
    </ul>

    
<nav id="page-nav">
    <div class="inner">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/10/">10</a><a class="extend next" rel="next" href="/page/2/">下一页</a>
    </div>
</nav>


</div>

        <footer class="footer">
    <div class="top">
        
<p>
    <span id="busuanzi_container_site_uv" style='display:none'>
        站点总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style='display:none'>
        站点总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


        <p>
            <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
            <span>博客内容遵循 <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">知识共享 署名 - 非商业性 - 相同方式共享 4.0协议</a></span>
        </p>
    </div>
    <div class="bottom">
        <p>
            <span>Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a></span>
            <span>kazaff's blog &copy; 2017 - 2020</span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://blog.kazaff.me/&title=kazaff's blog&pic=https://blog.kazaff.me/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://blog.kazaff.me/&title=kazaff's blog&source=develop,code,full-stack,architecture,deploy,database,test" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://blog.kazaff.me/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=kazaff's blog&url=https://blog.kazaff.me/&via=https://blog.kazaff.me" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://blog.kazaff.me/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="//api.qrserver.com/v1/create-qr-code/?data=https://blog.kazaff.me/" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: false };



</script>

<script src="/js/main.min.js?v=1.4.14"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="/js/search.min.js?v=1.4.14" async></script>






<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>



<script>
(function() {
    var OriginTitile = document.title, titleTime;
    document.addEventListener('visibilitychange', function() {
        if (document.hidden) {
            document.title = '(┬＿┬)';
            clearTimeout(titleTime);
        } else {
            document.title = 'kazaff';
            titleTime = setTimeout(function() {
                document.title = OriginTitile;
            },2000);
        }
    });
})();
</script>



</body>
</html>
